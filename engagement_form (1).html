
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no">
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <title>Ottu</title>
  <!--Poppins Font-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <!-- Bootstrap CSS File -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <!-- FontAwesome Files -->
  <link rel="stylesheet" type="text/css" href="new_assets/form/css/font-awesome.min.css">
  <!-- Main Stylesheet File -->
  <link rel="stylesheet" type="text/css" href="new_assets/form/css/main.css">
  <link rel="stylesheet" href="new_assets/css/stars.css">
</head>
<header>
  <div class="container-fluid">
    <div class="container">
      <img src="new_assets/images/ottu-logo.svg" alt="logo">
    </div>
  </div>
</header>

<body>

  <form id="engagement-form" class="needs-validation" novalidate>
    <div id="page-1">
      <progress value="50" max="100"></progress>
      <input type="hidden" class="uuid" value="{% url 'engagement:recieve' uuid %}" />
      <div class="container">
        <div class="following">
          <p class="follow">
            <span class="num">1.</span> As Ottu’s Valuable Partner, please rate your level of satisfaction for the
            following:
          </p>
          <div class="follow-details">
            <div class="follow-lists">
              <ul class="list-unstyled follow-list-details">
                <li>Value for Money</li>
                <li>poor </li>
                <input class="only-radio-fields-length" type="hidden" value="15" />
                <li class="custom-control custom-radio">
                  <input class="custom-control-input" name="value_of_money" type="radio"
                    id="defaultCheck1" required>
                  <label class="custom-control-label" for="defaultCheck1"></label>
                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="value_of_money" type="radio"
                    id="defaultCheck2" required>
                  <label class="custom-control-label" for="defaultCheck2"></label>
                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="value_of_money" type="radio"
                    id="defaultCheck3" required>
                  <label class="custom-control-label" for="defaultCheck3"></label>
                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="value_of_money" type="radio"
                    id="defaultCheck4" required>
                  <label class="custom-control-label" for="defaultCheck4"></label>
                </li>
                <li class="custom-control custom-radio">
                  <input class="custom-control-input" name="value_of_money" type="radio"
                    id="defaultCheck5" required>
                  <label class="custom-control-label" for="defaultCheck5"></label>
                  <!-- <div class="invalid-feedback">More example invalid feedback text</div> -->
                </li>
                </li>
                <li> Excellent</li>
              </ul>
              <ul class="list-unstyled follow-list-details-second">
                <li>Onboarding Experience</li>
                <li>poor </li>
                <li class="custom-control custom-radio">
                  <input class="custom-control-input" name="on_boarding_experiance" type="radio" value="1"
                    id="defaultCheck6" required>
                  <label class="custom-control-label" for="defaultCheck6"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="on_boarding_experiance" type="radio" value="2"
                    id="defaultCheck7" required>
                  <label class="custom-control-label" for="defaultCheck7"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="on_boarding_experiance" type="radio" value="3"
                    id="defaultCheck8" required>
                  <label class="custom-control-label" for="defaultCheck8"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="on_boarding_experiance" type="radio" value="4"
                    id="defaultCheck9" required>
                  <label class="custom-control-label" for="defaultCheck9"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class="custom-control-input" name="on_boarding_experiance" type="radio" value="5"
                    id="defaultCheck10" required>
                  <label class="custom-control-label" for="defaultCheck10"></label>
                  <!-- <div class="invalid-feedback">More example invalid feedback text</div> -->

                </li>
                <li> Excellent</li>
              </ul>
              <ul class="list-unstyled follow-list-details-third poor">
                <li>Professional Support</li>

                <li>poor </li>

                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="professional_support" type="radio"
                    value="1" id="defaultCheck11" required>
                  <label class="custom-control-label" for="defaultCheck11"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" name="professional_support" type="radio"
                    value="2" id="defaultCheck12" required>
                  <label class="custom-control-label" for="defaultCheck12"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" type="radio" name="professional_support"
                    value="3" id="defaultCheck13" required>
                  <label class="custom-control-label" for="defaultCheck13"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" type="radio" name="professional_support"
                    value="4" id="defaultCheck14" required>
                  <label class="custom-control-label" for="defaultCheck14"></label>


                </li>
                <li class="custom-control custom-radio">
                  <input class=" custom-control-input" type="radio" name="professional_support"
                    value="5" id="defaultCheck15" required>
                  <label class="custom-control-label" for="defaultCheck15"></label>
                  <!-- <div class="invalid-feedback position-absolute">More example invalid feedback text</div> -->
                </li>
                <li> Excellent</li>
              </ul>
            </div>
          </div>
          <div class="following main">
            <p class="follow">
              <span class="num">2.</span> Please check the Ottu features you are currently using and rate your level of
              satisfaction for the following:
            </p>
            <div class="follow-details">

              <div id="second-list" class="follow-lists">
                <ul class="list-unstyled follow-list-details">
                  <li class="direct  form-check">
                    <input class="form-check-input main" type="checkbox" value="" id="defaultCheckmain">
                    <label for="defaultCheckmain"><span class="follow-title active changeme">Direct
                        Integration</span></label>
                  </li>

                  <li class="active changeme"><span>Not Satisfied</span></li>

                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input " type="radio" name="direct_integration" value="1"
                      id="defaultCheck16">
                    <label class="orange1 custom-control-label" for="defaultCheck16"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="direct_integration" value="2"
                      id="defaultCheck17">
                    <label class="orange1 custom-control-label" for="defaultCheck17"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="direct_integration" value="3"
                      id="defaultCheck18">
                    <label class="orange1 custom-control-label" for="defaultCheck18"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="direct_integration" value="4"
                      id="defaultCheck19">
                    <label class="orange1 custom-control-label" for="defaultCheck19"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="direct_integration" value="5"
                      id="defaultCheck20">
                    <label class="orange1 custom-control-label" for="defaultCheck20"></label>


                  </li>
                  <li class="active changeme"><span>Extremely Satsified</span></li>


                </ul>
                <ul class="list-unstyled follow-list-details-second">
                  <li class=" form-check"> <input class="form-check-input main" type="checkbox" value=""
                      id="defaultCheckmain1">
                    <label for="defaultCheckmain1"><span class="follow-title active1 changeme1">Pay by
                        Link</span></label>
                  </li>

                  <li class="active1 changeme1"><span>Not Satisfied</span></li>

                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="pay_by_link" value="1"
                      id="defaultCheck21">
                    <label class="orange2 custom-control-label" for="defaultCheck21"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="pay_by_link" value="2"
                      id="defaultCheck22">
                    <label class="orange2 custom-control-label" for="defaultCheck22"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="pay_by_link" value="3"
                      id="defaultCheck23">
                    <label class="orange2 custom-control-label" for="defaultCheck23"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="pay_by_link" value="4"
                      id="defaultCheck24">
                    <label class="orange2 custom-control-label" for="defaultCheck24"></label>


                  </li>
                  <li class="form-check custom-control custom-radio">
                    <input class="form-check-input custom-control-input" type="radio" name="pay_by_link" value="5"
                      id="defaultCheck25">
                    <label class="orange2 custom-control-label" for="defaultCheck25"></label>


                  </li>
                  <li class="active1 changeme1"><span>Extremely Satsified</span></li>
                </ul>
              </div>

            </div>
          </div>
          <div class="row">
            <div class=" col-sm-7  col-6"></div>
            <div class="col-lg-12 col-md-12 col-sm-5 col-6 next">
              <span class="divid">1/2</span>
              <button id="next" class="btn btn-next"><span>NEXT</span></button>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div id="page-2" style="display: none;">
      <progress value="100" max="100"></progress>

      <div class="step3">
        <div class="container ">
          <div class="following ">
            <p class="follow">
              <span class="num">3.</span>How responsive have we been to your questions or concerns?
            </p>
            <div class="stars">
              <div class="feedback">
                <div class="rating">
                  <input type="radio" name="rating-star" class=" screen-reader-pointer" id="rc1">
                  <input type="radio" name="rating-star" class=" screen-reader-pointer" id="rc2">
                  <input type="radio" name="rating-star" class=" screen-reader-pointer" id="rc3">
                  <input type="radio" name="rating-star" class=" screen-reader-pointer" id="rc4">
                  <input type="radio" name="rating-star" class=" screen-reader-pointer" id="rc5">
                  <label for="rc1" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">1</span>
                  </label>
                  <label for="rc2" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">2</span>
                  </label>
                  <label for="rc3" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">3</span>
                  </label>
                  <label for="rc4" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">4</span>
                  </label>
                  <label for="rc5" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">5</span>
                  </label>	
                </div>
              </div>
            </div>


            <p class="follow">
              <span class="num">4.</span>Considering your complete experience with our software,<br>
              How likely would you recommend its use to a friend or colleagues?
            </p>
            <div class="stars">
              <div class="feedback">
                <div class="rating">
                  <input type="radio" name="rating-star1" class=" screen-reader-pointer" id="rc6">
                  <input type="radio" name="rating-star1" class=" screen-reader-pointer" id="rc7">
                  <input type="radio" name="rating-star1" class=" screen-reader-pointer" id="rc8">
                  <input type="radio" name="rating-star1" class=" screen-reader-pointer" id="rc9">
                  <input type="radio" name="rating-star1" class=" screen-reader-pointer" id="rc10">
                  <label for="rc6" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">1</span>
                  </label>
                  <label for="rc7" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">2</span>
                  </label>
                  <label for="rc8" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">3</span>
                  </label>
                  <label for="rc9" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">4</span>
                  </label>
                  <label for="rc10" class="rating__item">
                    <svg class="rating__star">
                      <use xlink:href="#star"></use>
                    </svg>
                    <span class="screen-reader">5</span>
                  </label>	
                </div>
              </div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
              <symbol id="star" viewBox="0 0 26 28">
                <path d="M26 10.109c0 .281-.203.547-.406.75l-5.672 5.531 1.344 7.812c.016.109.016.203.016.313 0 .406-.187.781-.641.781a1.27 1.27 0 0 1-.625-.187L13 21.422l-7.016 3.687c-.203.109-.406.187-.625.187-.453 0-.656-.375-.656-.781 0-.109.016-.203.031-.313l1.344-7.812L.39 10.859c-.187-.203-.391-.469-.391-.75 0-.469.484-.656.875-.719l7.844-1.141 3.516-7.109c.141-.297.406-.641.766-.641s.625.344.766.641l3.516 7.109 7.844 1.141c.375.063.875.25.875.719z"/>
              </symbol>
            </svg>

            <div class="form-group">
              <label for="user-name">Full Name:
              </label>
              <input type="text" class="form-control" id="user-name" name="user-name" placeholder="" required>
            </div>
            <div class="form-group">
              <label for="user-name">Company Name:
              </label>
              <input type="text" class="form-control" id="company-name" name="company-name" placeholder="" required>
            </div>
            <div class="form-group">
              <label for="user-name">Designation:
              </label>
              <input type="text" class=" form-control" id="designation" name="designation" placeholder="" required>
            </div>
            <div class="form-group">
              <label for="user-name">Email Address:
              </label>
              <input type="email" class="form-control" id="email-address" name="email-address" placeholder="" required>
            </div>
            <div class="form-group">
              <label for="user-name">Contact Number:
              </label>
              <input type="tel" class=" form-control" id="tel" name="phone" placeholder="" required>
            </div>
            <div class="form-group msg">
              <div class="row">
                <div class="col-12 pr-0 pl-0">
                  <label class="msg-label" for="w3review">Do you have any other comments, questions, or concerns?
                  </label>
                </div>
                <div class="col-12 pr-0 pl-0">
                  <textarea id="w3review" class="form-control" name="Extra_points" rows="1" cols="" placeholder="Type Here" required></textarea>
                </div>
              </div>
            </div>

            <div class="step3-btns">
              <a href="#" id="prev">
                <div class="prev">
                  <img src="{% static 'new_assets/images/prev.png' %}">
                </div>
              </a>
              <div id="complete" class="next">
                <span class="divid">2/2</span>
                <input type="submit" name="submitButton" class="btn btn-next" value="Complete" id="complete">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</body>

<footer>
  <div class="container-fluid">
    <div class="container">

      <p>Ottu © All Rights Reserved 2021 </p>
      <ul class="list-unstyled desktop-footer">
        <li><a href="https://twitter.com/GetOttu" target="_blank">Twitter</a></li>
        <li><a href="https://www.instagram.com/getottu/" target="_blank">Instagram</a></li>
        <li><a href="https://www.linkedin.com/company/ottu" target="_blank">LinkedIn</a></li>
      </ul>
      <ul class="list-unstyled mobile-footer">
        <li>
          <a href="#"><img src="img/twitter.svg"></a>
        </li>
        <li>
          <a href="#"><img src="img/insta.svg"></a>

        </li>
        <li>
          <a href="#"><img class="linked" src="img/linkedin.svg"></a>

        </li>
      </ul>
    </div>
  </div>
</footer>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
<!-- Main javascript File -->
<script src="new_assets/form/js/main.js"></script>


<script>

  $("#next").click((e) => {
    let type = 'next'
    e.preventDefault();
    $('.screen-reader-pointer').addClass('rating__control')
    $('.form-control').each(function(i, elem) {
      elem.required = false
    })
    checkValidation('next')
  })
  function checkValidation(type) {
    var forms = document.getElementsByClassName('needs-validation');
    if (type === 'next') {
      var validation = Array.prototype.filter.call(forms, function(form) {
          if (form.checkValidity() === false || renderErrorMsgInputs() == false) {
            $('.text-danger').remove();
            event.preventDefault();
            event.stopPropagation();

            form.classList.add('was-validated');
            renderErrorMsgInputs();
          } else {
            $("#page-1").css("display", "none");
            $("#page-2").css("display", "block");
            $('.form-control').each(function(i, elem) {
              elem.required = true
            })
            form.classList.remove('was-validated');
          }
      });
    } else {
      window.addEventListener('load', function() {
        
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              $('.text-danger').remove();
            if (form.checkValidity() === false  || checkAllRatingInputs() === false) {
              event.preventDefault();
              event.stopPropagation();
              checkAllRatingInputs()
            }
            form.classList.add('was-validated');
          }, false);
          
        });
      }, false); 
    }
  }
  function renderErrorMsgInputs() {
    if ([...$('.form-check-input')].some(e => e.checked == true) == false) {
      $('.form-check-input').parents('.follow-details').append().after('<p class="text-danger">Please Check At Least One Item From Above.</p>');
      return false
    } else {
      return true
    }
    // if ([...$('.rating__control')].some(e => e.checked == true) == false) {
    //   $('.rating__control').parents('.feedback').append().after('<p class="text-danger">Please Give Us A Rate.</p>');
    // }
  }
  checkValidation('')
  $('.form-check-input').on('change', function(e) {
    e.preventDefault();
    let tempFuck = $(this).closest('.follow-list-details').children('.form-check')
    if($(this).is(':checked')) {
      for(let i = 1; i < tempFuck.length ; i++) {
        tempFuck[i].children[0].required = true
      }
    } else {
      for(let i = 1; i < tempFuck.length ; i++) {
        tempFuck[i].children[0].required = false
        tempFuck[i].children[0].checked = false
      }
    }
  })

  function checkAllRatingInputs() {
    let mainElement = $('.rating__control');
    let lengthOfStars = $('.rating__control').length;
    let lengthOfStarsRows = lengthOfStars / 5;

    let FinalArray = []
    for (let index = 0; index < lengthOfStarsRows; index++) {
      FinalArray.push({
        row_id: index + 1,
        checked: false
      })
    }
    let chunckedArray = []
    let size = lengthOfStars / lengthOfStarsRows
    for (let i = 0;  i < lengthOfStars; i += size) {
      chunckedArray.push(mainElement.slice(i, i + size)) // Divide them into groups of five elements
    }
    for (let i = 0; i < chunckedArray.length; i++) {
      for (let j = 0; j < chunckedArray[i].length; j++) {
        chunckedArray[i][j].classList.add(`row-${i + 1}`)
        chunckedArray[i][j].setAttribute('data-row', i+1)
      }
        if ([...chunckedArray[i]].some(e => e.checked == true)) {
          FinalArray[i].checked = true 
        } else {
          FinalArray[i].checked = false
        }
    }
    let comparisonArray = FinalArray.filter(e => e.checked == true)
    let uncheckedElement = FinalArray.filter(e => e.checked == false)
    for (let j = 0; j < uncheckedElement.length; j++) {
      $(`input[data-row="${uncheckedElement[j].row_id}"]`).parents('.feedback').append().after('<p class="text-danger">Please Give Us A Rate.</p>');
    }
    if (comparisonArray.length == lengthOfStarsRows) {
      return true
    } else {
      return false
    }
  }

  $("#prev").click(() => {
    $("#page-1").css("display", "block");
    $("#page-2").css("display", "none")
  })
  $(document).ready(function () {
    let tempArray = []
    let existedRadiosButtons = $('.only-radio-fields-length').val();
    let arrayFirstRadioRow = []
    for (let j = 1; j <= parseInt(existedRadiosButtons); j++) {
      arrayFirstRadioRow.push(j)
    }
    $('.only-radio-button').each(function (index) {
      $(this).addClass(`custom-circle-${index + 1}`)
    })
    console.log(arrayFirstRadioRow, 'arrayFirstRadioRow')
    for (let i = 0; i < arrayFirstRadioRow.length; i++) {
      $(`.custom-circle-${arrayFirstRadioRow[i]}`).on('change', function (e) {
        if ($(this).is(':checked')) {
          tempArray.push({
            field_row: arrayFirstRadioRow[i],
            value: 1
          })
        }
        console.log(tempArray, 'change')
      })
    }
  })



</script>

</body>

</html>